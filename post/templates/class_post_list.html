{% extends "class_base.html" %}

{% load static %}

{% block content %}
    
    <h1>post list :</h1>
    <div class="col-md-12 ">
        <div class="row mt-1 g-3 btn-light " style="height: 100%;">
            {% for post in page_obj %}
                <div class="col-md-3 feature-card " style="height: auto; ">
                    <div class="card h-100" >
                        <div style="justify-content: center;"> 
                            {% if post.image %}
                                <img src="{{post.image.url}}" alt="image_of_post" style="width: 100px; height: 100px; border: solid red; margin-top: 5px;">
                            {% else %}
                                <img src="{% static 'download.jpeg' %}" alt="image_of_post" style="width: 100px; height: 100px; border: solid red;margin-top: 5px;">
                            {% endif %}
                        </div>
                        <br>
                        <h1>{{post.title}}</h1>
                        <p>{{post.shortdesc}}</p>
                        <small>{{post.created_on | date}}</small>
                        <a href="/user/{{post.writer}}"><h2>user : {{post.writer}}</h2></a>
                        <!-- <h3>{{post.tag}}</h3> -->
                        <p>
                            tags :
                            {% for t in post.tag.all  %}
                                {{t}}-
                            {% endfor %}
                        </p>
                        <p>
                            <a href="class_post_detail/{{post.id}}">show detail</a>
                            <br>
                            <a href="class_category_posts/gslug/{{post.slug}}">show detail via SLUG </a>
                        </p>
                        <hr>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <div class="pagination">
        <span class="step-links">
            {% if page_obj.has_previous %}
                <a href="?page=1">&laquo; first</a>
                <a href="?page={{ page_obj.previous_page_number }}">previous</a>
            {% endif %}
    
            <span class="current">
                Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
            </span>
    
            {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}">next</a>
                <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
            {% endif %}
        </span>
    </div>
      
{% endblock content %}